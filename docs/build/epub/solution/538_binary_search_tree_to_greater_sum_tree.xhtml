<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>538_binary_search_tree_to_greater_sum_tree</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="binary-search-tree-to-greater-sum-tree">
<h1>538_binary_search_tree_to_greater_sum_tree</h1>
<div class="section" id="id1">
<h2>题目</h2>
<p>给出二叉 搜索 树的根节点，该树的节点值各不相同，请你将其转换为累加树（Greater Sum Tree），使每个节点 node 的新值等于原树中大于或等于
node.val 的值之和。</p>
<p>提醒一下，二叉搜索树满足下列约束条件：</p>
<p>节点的左子树仅包含键 小于 节点键的节点。
节点的右子树仅包含键 大于 节点键的节点。
左右子树也必须是二叉搜索树。</p>
<p>注意：本题和 1038: <a class="reference external" href="https://leetcode-cn.com/problems/binary-search-tree-to-greater-sum-tree/">https://leetcode-cn.com/problems/binary-search-tree-to-greater-sum-tree/</a> 相同</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>示例 1：

输入：[4,1,6,0,2,5,7,null,null,null,3,null,null,null,8]
输出：[30,36,21,36,35,26,15,null,null,null,33,null,null,null,8]


示例 2：

输入：root = [0,null,1]
输出：[1,null,1]


示例 3：

输入：root = [1,0,2]
输出：[3,3,2]


示例 4：

输入：root = [3,2,4,1]
输出：[7,9,4,10]
</pre></div>
</div>
<p>提示：</p>
<p>树中的节点数介于 0 和 104 之间。
每个节点的值介于 -104 和 104 之间。
树中的所有值 互不相同 。
给定的树为二叉搜索树。</p>
</div>
<div class="section" id="id2">
<h2>思路</h2>
<p>题意要求新节点的值等于当前(node)节点和其后继(succ)节点值之和，即 node.val = node.val + node.succ.val。</p>
<p>因二叉树的中序遍历是其节点的投影值。遍历顺序是访问当前节点的时候，后继节点还没有访问。因为可以变通一下，将中序遍历从左到右换成从右到左，即先访问右子树，再访问左子树。并且保存一个前节点(prev)。</p>
<p>表达式就变成 node.val = node.val + prev.val</p>
</div>
<div class="section" id="module-src.solution.538_binary_search_tree_to_greater_sum_tree">
<span id="id3"></span><h2>实现</h2>
<dl class="py class">
<dt id="src.solution.538_binary_search_tree_to_greater_sum_tree.Solution">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">src.solution.538_binary_search_tree_to_greater_sum_tree.</span></code><code class="sig-name descname"><span class="pre">Solution</span></code></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a><span class="link-target"> [https://docs.python.org/3/library/functions.html#object]</span></p>
<dl class="py method">
<dt id="src.solution.538_binary_search_tree_to_greater_sum_tree.Solution.convertBST">
<code class="sig-name descname"><span class="pre">convertBST</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="../datastruct/bin_treenode.xhtml#src.datastruct.bin_treenode.TreeNode" title="src.datastruct.bin_treenode.TreeNode"><span class="pre">src.datastruct.bin_treenode.TreeNode</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="../datastruct/bin_treenode.xhtml#src.datastruct.bin_treenode.TreeNode" title="src.datastruct.bin_treenode.TreeNode"><span class="pre">src.datastruct.bin_treenode.TreeNode</span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="src.solution.538_binary_search_tree_to_greater_sum_tree.Solution.inorder">
<code class="sig-name descname"><span class="pre">inorder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="../datastruct/bin_treenode.xhtml#src.datastruct.bin_treenode.TreeNode" title="src.datastruct.bin_treenode.TreeNode"><span class="pre">src.datastruct.bin_treenode.TreeNode</span></a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="../datastruct/bin_treenode.xhtml#src.datastruct.bin_treenode.TreeNode" title="src.datastruct.bin_treenode.TreeNode"><span class="pre">src.datastruct.bin_treenode.TreeNode</span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="src.solution.538_binary_search_tree_to_greater_sum_tree.TestSolution">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">src.solution.538_binary_search_tree_to_greater_sum_tree.</span></code><code class="sig-name descname"><span class="pre">TestSolution</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methodName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'runTest'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.case.TestCase</span></code></p>
<dl class="py method">
<dt id="src.solution.538_binary_search_tree_to_greater_sum_tree.TestSolution.setUp">
<code class="sig-name descname"><span class="pre">setUp</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Hook method for setting up the test fixture before exercising it.</p>
</dd></dl>

<dl class="py method">
<dt id="src.solution.538_binary_search_tree_to_greater_sum_tree.TestSolution.test_solution">
<code class="sig-name descname"><span class="pre">test_solution</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>